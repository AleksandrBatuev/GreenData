{"version":3,"sources":["context/alert/alertContext.js","components/Alert.js","components/Navbar.js","context/types.js","context/alert/alertReducer.js","context/alert/AlertState.js","components/Input.js","hooks/inputHook.js","hooks/validHook.js","components/Form.js","pages/NewWorker.js","pages/RedPencil.js","pages/Registry.js","App.js","index.js"],"names":["AlertContext","createContext","Alert","useContext","alert","hide","visible","className","type","text","to","onClick","aria-label","aria-hidden","Navbar","exact","SHOW_ALERT","HIDE_ALERT","handlers","state","payload","alertReducer","action","DEFAULT","AlertState","children","useReducer","dispatch","Provider","value","show","Input","id","label","error","placeholder","onChange","onBlur","htmlFor","useInput","initialValue","validations","date","useState","setValue","dirty","setDirty","valid","dateValue","errorEmpty","setErrorEmpty","errorName","setErrorName","errorDate","setErrorDate","useEffect","validation","textValid","test","useValidation","e","prevValue","target","prevDirty","Form","onFormButtonClick","onSubmit","setValid","family","empty","name","patronymic","birthday","employmentDate","dateOfDismissal","position","gender","setGender","license","setLicense","data","setData","prevData","disabled","defaultChecked","NewWorker","localStorage","length","firstPerson","setItem","JSON","stringify","raw","getItem","persons","parse","push","preventDefault","RedPencil","personData","setPersonData","splice","removeItem","Registry","removePersonClick","newData","redPencilPersonIndexClick","PersonId","String","scope","map","person","index","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b536935d.chunk.js","sourcesContent":["import {createContext} from 'react'\r\n\r\nexport const AlertContext = createContext()","import React, {useContext} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { AlertContext } from '../context/alert/alertContext'\r\n\r\nexport const Alert = () => {\r\n    const {alert, hide} = useContext(AlertContext)\r\n\r\n    if(!alert.visible) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={`container mt-2 alert alert-${alert.type || 'warning'} alert-dismissible`}>\r\n            {alert.text} \r\n            <Link to={'/'} onClick={hide}> (Вернуться на главную)</Link>\r\n            <button onClick={hide} type='button' className='close' aria-label='Close'>\r\n                <span aria-hidden='true'>&times;</span>\r\n            </button>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nexport const Navbar = () => (\r\n    <nav className=\"navbar navbar-dark navbar-expand-lg bg-dark\">\r\n        <div className=\"navbar-brand\">\r\n            Реестр\r\n        </div>\r\n        <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item\">\r\n                <NavLink \r\n                    className=\"nav-link\" \r\n                    to=\"/\"\r\n                    exact\r\n                >\r\n                    Сотрудники\r\n                </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <NavLink \r\n                    className=\"nav-link\" \r\n                    to=\"/create\"\r\n                >\r\n                    Новый сотрудник\r\n                </NavLink>\r\n            </li>\r\n      </ul>\r\n    </nav>\r\n)","export const SHOW_ALERT = 'SHOW_ALERT'\r\nexport const HIDE_ALERT = 'HIDE_ALERT'","import { HIDE_ALERT, SHOW_ALERT } from \"../types\"\r\n\r\nconst handlers = {\r\n    [SHOW_ALERT]: (state, {payload}) => ({...payload, visible: true}),\r\n    [HIDE_ALERT]: state => ({...state, visible: false}),\r\n    DEFAULT: state => state\r\n}\r\n\r\nexport const alertReducer = (state, action) => {\r\n    const handle = handlers[action.type] || handlers.DEFAULT\r\n    return handle(state, action)\r\n}","import React, { useReducer } from 'react'\r\nimport { HIDE_ALERT, SHOW_ALERT } from '../types'\r\nimport { AlertContext } from './alertContext'\r\nimport { alertReducer } from './alertReducer'\r\n\r\nexport const AlertState = ({ children }) => {\r\n    const [state, dispatch] = useReducer(alertReducer, { visible: false })\r\n\r\n    const show = (text, type = 'warning') => {\r\n        dispatch({\r\n            type: SHOW_ALERT,\r\n            payload: {text, type}\r\n        })\r\n    }\r\n\r\n    const hide = () => dispatch({type: HIDE_ALERT})\r\n\r\n    return (\r\n        <AlertContext.Provider value={{\r\n            show, hide,\r\n            alert: state\r\n        }}\r\n        >\r\n            {children}\r\n        </AlertContext.Provider>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport const Input = ({id, type, className, label, error, placeholder, onChange, onBlur}) => {\r\n    return(\r\n        <div className='pb-2'>\r\n            {label &&\r\n                <label htmlFor={id}>{label}</label>\r\n            }\r\n            <input\r\n                id={id}\r\n                type={type}\r\n                className={className}\r\n                placeholder={placeholder}\r\n                onChange={onChange}\r\n                onBlur={onBlur}\r\n            />\r\n            {error &&\r\n                <label className='text-danger' htmlFor={id}>{error}</label>\r\n            }\r\n        </div>\r\n    )\r\n}","import {useState} from 'react'\r\nimport { useValidation } from './validHook'\r\n\r\nexport const useInput = (initialValue, validations, date) => {\r\n    const [value, setValue] = useState(initialValue)\r\n    const [dirty, setDirty] = useState(false)\r\n    const valid = useValidation(value, validations, date)\r\n\r\n    const onChange = (e) => {\r\n        setValue(prevValue => prevValue = e.target.value)\r\n    }\r\n\r\n    const onBlur = (e) => {\r\n        setDirty(prevDirty => prevDirty = true)\r\n    }\r\n\r\n    return {\r\n        value,\r\n        onChange,\r\n        onBlur,\r\n        dirty,\r\n        ...valid\r\n    }\r\n}","import { useState, useEffect } from 'react'\r\n\r\nexport const useValidation = (value, validations, dateValue) => {\r\n    const [errorEmpty, setErrorEmpty] = useState('')\r\n    const [errorName, setErrorName] = useState('')\r\n    const [errorDate, setErrorDate] = useState('')\r\n\r\n    useEffect(() => {\r\n        for (const validation in validations) {\r\n            switch (validation) {\r\n                case 'empty':\r\n                    value ? setErrorEmpty('') : setErrorEmpty('Поле не может быть пустым')\r\n                    break;\r\n                case 'name':\r\n                    let re = /^[A-zА-яЁё]+$/\r\n                    let textValid = re.test(value)\r\n                    textValid ? setErrorName('') : setErrorName('Могут быть введены только буквы')\r\n                    break;\r\n                case 'date':\r\n                    value > dateValue ? setErrorDate('') : setErrorDate('Ошибка в датах')\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }, [value, validations, dateValue])\r\n\r\n    return {\r\n        errorEmpty,\r\n        errorName,\r\n        errorDate\r\n    }\r\n}","import React, { useState, useEffect} from 'react'\r\nimport { Input } from '../components/Input'\r\nimport { useInput } from '../hooks/inputHook'\r\n\r\nexport const Form = ({ onFormButtonClick, onSubmit }) => {\r\n\r\n    const [valid, setValid] = useState(true)\r\n    const family = useInput('', { empty: true, name: true })\r\n    const name = useInput('', { empty: true, name: true })\r\n    const patronymic = useInput('', { empty: true, name: true })\r\n    const birthday = useInput('', { empty: true })\r\n    const employmentDate = useInput('', { empty: true, date: true }, birthday.value)\r\n    const dateOfDismissal = useInput('', { empty: true, date: true }, employmentDate.value)\r\n    const position = useInput('', { empty: true })\r\n    const [gender, setGender] = useState('Мужчина')\r\n    const [license, setLicense] = useState(false)\r\n    const [data, setData] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (!valid) {\r\n            setData(prevData => prevData = {\r\n                family: family.value,\r\n                name: name.value,\r\n                patronymic: patronymic.value,\r\n                position: position.value,\r\n                birthday: birthday.value,\r\n                gender: gender,\r\n                employmentDate: employmentDate.value,\r\n                dateOfDismissal: dateOfDismissal.value,\r\n                license: license ? 'Есть' : 'Нет'\r\n            })\r\n        }\r\n    }, [valid, family.value, name.value, patronymic.value, position.value, birthday.value, gender, employmentDate.value, dateOfDismissal.value, license])\r\n\r\n    useEffect(() => {\r\n        if (!family.errorEmpty && !family.errorName &&\r\n            !name.errorEmpty && !name.errorName &&\r\n            !patronymic.errorEmpty && !patronymic.errorName &&\r\n            !birthday.errorEmpty && !birthday.errorName &&\r\n            !employmentDate.errorEmpty && !employmentDate.errorDate &&\r\n            !dateOfDismissal.errorEmpty && !dateOfDismissal.errorDate &&\r\n            !position.errorEmpty && !position.errorName && position.dirty) {\r\n            setValid(false)\r\n        } else {\r\n            setValid(true)\r\n        }\r\n    }, [family, name, patronymic, birthday, employmentDate, dateOfDismissal, position, gender, license])\r\n\r\n    return (\r\n        <form onSubmit={onSubmit} className='form-group'>\r\n            <Input\r\n                type='text'\r\n                error={(family.dirty && family.errorEmpty) || (family.dirty && family.errorName)}\r\n                onChange={(e) => family.onChange(e)}\r\n                onBlur={(e) => family.onBlur(e)}\r\n                value={family.value}\r\n                className='form-control'\r\n                placeholder='Введите Фамилию'\r\n            />\r\n            <Input\r\n                type='text'\r\n                error={(name.dirty && name.errorEmpty) || (name.dirty && name.errorName)}\r\n                onChange={(e) => name.onChange(e)}\r\n                onBlur={(e) => name.onBlur(e)}\r\n                value={name.value}\r\n                className='form-control'\r\n                placeholder='Введите Имя'\r\n            />\r\n            <Input\r\n                type='text'\r\n                error={(patronymic.dirty && patronymic.errorEmpty) || (patronymic.dirty && patronymic.errorName)}\r\n                onChange={(e) => patronymic.onChange(e)}\r\n                onBlur={(e) => patronymic.onBlur(e)}\r\n                value={patronymic.value}\r\n                className='form-control'\r\n                placeholder='Введите Отчество'\r\n            />\r\n            <select\r\n                onChange={(e) => position.onChange(e)}\r\n                onBlur={(e) => position.onBlur(e)}\r\n                value={position.value}\r\n                className='form-control mt-2 mb-2'\r\n                aria-label='Default select example' >\r\n                <option value='' disabled>Выберете должность</option>\r\n                <option value='Аналитик'>Аналитик</option>\r\n                <option value='Тестеровщик'>Тестеровщик</option>\r\n                <option value='Разработчик'>Разработчик</option>\r\n            </select>\r\n            <label className='text-danger'>{position.dirty && position.errorEmpty}</label>\r\n            <Input\r\n                type='date'\r\n                error={birthday.dirty && birthday.errorEmpty}\r\n                onChange={(e) => birthday.onChange(e)}\r\n                onBlur={(e) => birthday.onBlur(e)}\r\n                value={birthday.value}\r\n                className='form-control'\r\n                label='Введите дату рождения'\r\n            />\r\n            <hr />\r\n            <div className=\"form-check\">\r\n                <input onClick={(e) => setGender(e.target.value)} className=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios1\" value=\"Мужчина\" defaultChecked />\r\n                <label className=\"form-check-label\" htmlFor=\"exampleRadios1\">\r\n                    Мужчина\r\n                    </label>\r\n            </div>\r\n            <div className=\"form-check\">\r\n                <input onClick={(e) => setGender(e.target.value)} className=\"form-check-input\" type=\"radio\" name=\"exampleRadios\" id=\"exampleRadios2\" value=\"Женщина\" />\r\n                <label className=\"form-check-label\" htmlFor=\"exampleRadios2\">\r\n                    Женщина\r\n                    </label>\r\n            </div>\r\n            <hr />\r\n            <Input\r\n                type='date'\r\n                error={(employmentDate.dirty && employmentDate.errorEmpty) || (employmentDate.dirty && employmentDate.errorDate)}\r\n                onChange={(e) => employmentDate.onChange(e)}\r\n                onBlur={(e) => employmentDate.onBlur(e)}\r\n                value={employmentDate.value}\r\n                className='form-control'\r\n                label='Введите дату приема на работу'\r\n            />\r\n            <Input\r\n                type='date'\r\n                error={(dateOfDismissal.dirty && dateOfDismissal.errorEmpty) || (dateOfDismissal.dirty && dateOfDismissal.errorDate)}\r\n                onChange={(e) => dateOfDismissal.onChange(e)}\r\n                onBlur={(e) => dateOfDismissal.onBlur(e)}\r\n                value={dateOfDismissal.value}\r\n                className='form-control'\r\n                label='Введите дату увольнения'\r\n            />\r\n            <div className=\"form-check pb-2\">\r\n                <input onClick={(e) => setLicense(!license)} className=\"form-check-input\" type=\"checkbox\" id=\"inlineCheckbox\" />\r\n                <label className=\"form-check-label\" htmlFor=\"inlineCheckbox\">Водительские права</label>\r\n            </div>\r\n            <button\r\n                className=\"btn btn-success\"\r\n                onClick={() => onFormButtonClick(data)}\r\n                disabled={valid}\r\n            >\r\n                Занести в реестр\r\n            </button>\r\n        </form>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Form } from '../components/Form'\r\nimport { AlertContext } from '../context/alert/alertContext'\r\n\r\nexport const NewWorker = () => {\r\n\r\n    const alert = useContext(AlertContext)\r\n    \r\n    function submitHandler(e) {\r\n        e.preventDefault()\r\n        alert.show('Сотрудник добавлен в реестр.', 'success')\r\n    }\r\n\r\n    function AddRegistryClick(data) {\r\n        if (localStorage.length === 0) {\r\n            let firstPerson = [data]\r\n            localStorage.setItem('persons', JSON.stringify(firstPerson))\r\n        } else {\r\n            let raw = localStorage.getItem('persons')\r\n            let persons = JSON.parse(raw)\r\n            persons.push(data)\r\n            localStorage.setItem('persons', JSON.stringify(persons))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='container-lg'>\r\n            <h1>Новый сотрудник</h1>\r\n            <Form\r\n                onFormButtonClick={AddRegistryClick}\r\n                onSubmit={submitHandler}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { Form } from '../components/Form'\r\nimport { AlertContext } from '../context/alert/alertContext'\r\n\r\nexport const RedPencil = () => {\r\n\r\n    let raw = localStorage.getItem('persons')\r\n    const [personData, setPersonData] = useState(JSON.parse(raw))\r\n    const id = localStorage.getItem('PersonId')\r\n    const alert = useContext(AlertContext)\r\n\r\n    function submitHandler(e) {\r\n        e.preventDefault()\r\n        alert.show('Правки внесены!', 'success')\r\n    }\r\n\r\n    function redPencilPersonClick(data) {\r\n        personData.splice(id, 1, data)\r\n        localStorage.setItem('persons', JSON.stringify(personData))\r\n        setPersonData(prevData => prevData = personData)\r\n        localStorage.removeItem('PersonId')\r\n        //window.location.href = 'http://localhost:3000/'\r\n    }\r\n\r\n    return (\r\n        <div className='container-lg'>\r\n            <h1>Редактирование сотрудника</h1>\r\n            <Form \r\n            onFormButtonClick={redPencilPersonClick}\r\n            onSubmit={submitHandler}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Registry = () => {\r\n    let raw = localStorage.getItem('persons')\r\n    const [data, setData] = useState(JSON.parse(raw))\r\n\r\n    function removePersonClick(e) {\r\n        let id = e.target.id\r\n        let newData = data\r\n        newData.splice(id, 1)\r\n        localStorage.setItem('persons', JSON.stringify(newData))\r\n        setData(prevData => prevData = newData)\r\n    }\r\n\r\n    function redPencilPersonIndexClick(e) {\r\n        let PersonId = String(e.target.id)\r\n        localStorage.setItem('PersonId', PersonId)\r\n    }\r\n\r\n    if (localStorage.length === 0) {\r\n        return (\r\n            <div className='container'>\r\n                <h1 className='text-muted'>\r\n                    Данных нет\r\n                </h1>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <table className='table'>\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\">Фамилия</th>\r\n                        <th scope=\"col\">Имя</th>\r\n                        <th scope=\"col\">Отчество</th>\r\n                        <th scope=\"col\">Должность</th>\r\n                        <th scope=\"col\">Дата рождения</th>\r\n                        <th scope=\"col\">Пол</th>\r\n                        <th scope=\"col\">Дата приема на работу</th>\r\n                        <th scope=\"col\">Дата увольнения</th>\r\n                        <th scope=\"col\">Наличие прав</th>\r\n                        <th scope=\"col\">Редактировать</th>\r\n                    </tr>\r\n                </thead>\r\n                {data.map((person, index) => {\r\n                    return (\r\n                        <tbody key={index}>\r\n                            <tr>\r\n                                <th scope='row'>{person.family}</th>\r\n                                <th>{person.name}</th>\r\n                                <th>{person.patronymic}</th>\r\n                                <th>{person.position}</th>\r\n                                <th>{person.birthday}</th>\r\n                                <th>{person.gender}</th>\r\n                                <th>{person.employmentDate}</th>\r\n                                <th>{person.dateOfDismissal}</th>\r\n                                <th>{person.license}</th>\r\n                                <th>\r\n                                    <Link\r\n                                        to={'/red-pencil'}\r\n                                        onClick={redPencilPersonIndexClick}\r\n                                        id={index}\r\n                                        className='btn btn-info'\r\n                                    >\r\n                                        Редактировать\r\n                                    </Link>\r\n                                </th>\r\n                                <th>\r\n                                    <Link\r\n                                        to={''}\r\n                                        onClick={removePersonClick}\r\n                                        id={index}\r\n                                        className='btn btn-danger'\r\n                                    >\r\n                                        &times;\r\n                                    </Link>\r\n                                </th>\r\n\r\n                            </tr>\r\n                        </tbody>\r\n                    )\r\n                })}\r\n            </table>\r\n        </div>\r\n    )\r\n}","import React from 'react'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport { Alert } from './components/Alert';\nimport { Navbar } from './components/Navbar';\nimport { AlertState } from './context/alert/AlertState';\nimport { NewWorker } from './pages/NewWorker';\nimport { RedPencil } from './pages/RedPencil';\nimport { Registry } from './pages/Registry';\n\nfunction App() {\n  return (\n    <AlertState>\n      <BrowserRouter>\n        <Navbar />\n        <Alert />\n        <div className='container-fluid pt-4'>\n          <Switch>\n            <Route path={'/'} exact component={Registry} />\n            <Route path={'/create'} component={NewWorker} />\n            <Route path={'/red-pencil'} component={RedPencil} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    </AlertState>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}